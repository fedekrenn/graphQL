[2023-02-09T16:26:12.671] [ERROR] error - Error: Value for argument "data" is not a valid Firestore document. Couldn't serialize object of type "CartFirebaseDto". Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).
    at validateDocumentData (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\write-batch.js:596:15)
    at CollectionReference.add (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\reference.js:2235:48)
    at ContenedorCarritosFirebase.createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\carts\CartFirebase.js:28:22)
    at CartRepository.createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\CartRepository.js:31:40)
    at createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\cart.js:8:36)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\index.js:284:15
[2023-02-09T16:35:48.472] [ERROR] error - Error: Value for argument "data" is not a valid Firestore document. Couldn't serialize object of type "CartFirebaseDto". Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).
    at validateDocumentData (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\write-batch.js:596:15)
    at CollectionReference.add (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\reference.js:2235:48)
    at ContenedorCarritosFirebase.createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\carts\CartFirebase.js:28:22)
    at CartRepository.createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\CartRepository.js:31:40)
    at createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\cart.js:8:36)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\index.js:284:15
[2023-02-09T16:36:04.543] [ERROR] error - TypeError: Found non-callable @@iterator
    at ContenedorCarritosFirebase.createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\carts\CartFirebase.js:28:22)
    at CartRepository.createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\CartRepository.js:31:40)
    at createCart (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\cart.js:8:36)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\index.js:280:10)
[2023-02-09T16:41:06.288] [ERROR] error - Error: Value for argument "data" is not a valid Firestore document. Couldn't serialize object of type "ProductDto". Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).
    at validateDocumentData (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\write-batch.js:596:15)
    at CollectionReference.add (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\reference.js:2235:48)
    at ContenedorProductosFirebase.save (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\products\ProductFirebase.js:32:23)
    at ContenedorProductosMongo.save (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\ProductRepository.js:20:35)
    at addProduct (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\products.js:27:35)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:144:13)
    at isAdminMiddleware (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\middlewares\isAdminMiddleware.js:5:9)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:144:13)
[2023-02-09T16:41:20.649] [ERROR] error - Error: Value for argument "data" is not a valid Firestore document. Couldn't serialize object of type "ProductDto" (found in field "newProduct"). Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).
    at validateUserInput (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\serializer.js:334:15)
    at validateUserInput (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\serializer.js:271:13)
    at validateDocumentData (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\write-batch.js:598:40)
    at CollectionReference.add (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\@google-cloud\firestore\build\src\reference.js:2235:48)
    at ContenedorProductosFirebase.save (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\products\ProductFirebase.js:32:23)
    at ContenedorProductosMongo.save (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\ProductRepository.js:20:35)
    at addProduct (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\products.js:27:35)
    at Layer.handle [as handle_request] (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\node_modules\express\lib\router\route.js:144:13)
    at isAdminMiddleware (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\middlewares\isAdminMiddleware.js:5:9)
[2023-02-09T21:43:04.747] [ERROR] error - Se ha intentado crear una cuenta con un email ya existente
[2023-02-09T22:14:26.961] [ERROR] error - ReferenceError: productos is not defined
    at ContenedorProductosFirebase.updateById (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\products\ProductFirebase.js:55:7)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async ProductRepository.updateById (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\ProductRepository.js:28:14)
    at async updateProduct (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\products.js:42:18)
[2023-02-09T22:15:44.284] [ERROR] error - ReferenceError: productos is not defined
    at ContenedorProductosFirebase.updateById (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\products\ProductFirebase.js:55:7)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async ProductRepository.updateById (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\ProductRepository.js:28:14)
    at async updateProduct (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\products.js:42:18)
[2023-02-09T22:16:01.913] [ERROR] error - TypeError: targetProduct.doc is not a function
    at ContenedorProductosFirebase.updateById (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\dao\products\ProductFirebase.js:55:27)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async ProductRepository.updateById (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\components\repository\ProductRepository.js:28:14)
    at async updateProduct (C:\Users\fedek\OneDrive\Escritorio\Programación\backend-api-rest\src\api\controllers\products.js:42:18)
